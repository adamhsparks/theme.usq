---
title: "theme.usq"
output: github_document
---

```{r, echo = FALSE, message=FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "./man/figures/README-"
)
  library("ggplot2")
  library("theme.usq")
```

[![Travis-CI Build Status](https://travis-ci.org/adamhsparks/theme.usq.svg?branch=master)](https://travis-ci.org/adamhsparks/theme.usq)
[![Build status](https://ci.appveyor.com/api/projects/status/kl8y1bvwakd4884r/branch/master?svg=true)](https://ci.appveyor.com/project/adamhsparks/theme-usq-8c8gf/branch/master)

## Introduction to _theme.usq_

The goal of _theme.usq_ is to provide
[University of Southern Queensland](https://usq.edu.au) (USQ) staff and students
a quick and easy way to apply USQ colours and typography to graphs created in R
using the base _graphics_ package or _ggplot2_ while providing clear graphs for
reports and presentations. All of the colours provided are defined in USQ's Visual Identity Colour Palette, but do not all appear in the same order to
maintain usability for the purposes of graphing.

This package has been tested on macOS, Ubuntu Linux and USQ computers using
Windows 7. For Linux users, if you have not installed the MS Core Fonts, you
will need to do that for this package to function properly and generate the
graphs with the proper typography. Windows and macOS users should be ready to go
with just the installation of this package.

## Quickstart

The _theme.usq_ package is only available from GitHub. The easiest way to
install it is by using the [_devtools_](https://github.com/hadley/devtools)
package.

The installation may take some time as some system fonts need to be catalogued
to use the Microsoft Verdana font that USQ suggests. Once the installation is
done, it should not be necessary to re-catalogue the fonts so loading
_theme.usq_ will not take any longer than expected.

```{r, eval=FALSE}

if(!require(devtools)){
    install.packages("devtools")
    library(devtools)
}

install_github("adamhsparks/theme.usq", dependencies = TRUE)

library("ggplot2")
library("theme.usq")
```

### Keeping _theme.usq_ up-to-date

Since _theme.usq_ is still under development with bug fixes and new features
being added and it is not available from CRAN; `update.packages()` will not
update it. To keep _theme.usq_ updated, use:

```{r, eval=FALSE}
devtools::update_packages("theme.usq")
```

## Examples

### Example 1: Scatterplots of discrete data

#### Using `plot_usq()`

Plot plot car weights by miles per gallon.

```{r}
plot_usq(x = mtcars$wt, y = mtcars$mpg)
```

#### Using _ggplot2_ and `theme.usq()`

Plot car weights by miles per gallon and facet by `Transmission` (0 = automatic,
1 = manual) using the `usq_palette` in the `scale_colour_manual` discrete scale
function to use USQ colours for the graph.

```{r}
p1 <- ggplot(mtcars) +
  geom_point(aes(
    x = wt,
    y = mpg,
    colour = factor(gear)
  )) +
  scale_colour_manual(values = usq_palette) +
  facet_wrap(~ am)

p1
```

Now add the `theme_usq()` to the graph.

```{r}
p1 + theme_usq()
```

### Example 2: Heatmaps or other continuous data

Using the _theme.usq's_ `theme_usq()` for _ggplot2_, plot values using the
`usq_fill_gradient` to use USQ colours for continuous values in the graph. Two
types of gradients are included, warm and cool for both `scale_fill_gradient()`
and `scale_colour_gradient()` as necessary.

#### Warm gradients

```{r}
p2a <- ggplot(faithfuld, aes(waiting, eruptions)) +
  geom_raster(aes(fill = density), interpolate = TRUE) +
  usq_fill_gradient_warm() +
  theme_usq()
  
p2a
```

#### Cool gradients

```{r}
p2b <- ggplot(faithfuld, aes(waiting, eruptions)) +
  geom_raster(aes(fill = density), interpolate = TRUE) +
  usq_fill_gradient_cool() +
  theme_usq()
  
p2b
```

### Example 3: Heatmaps using other colour palettes

#### Using _ggplot2_ and `theme_usq()`

`theme_usq()` can be used with any colour palette that you wish to use, while
still applying the graph styling and typography to the graph.

Use the default _ggplot2_ colour scheme to fill the density plot while using
the `theme_usq()` to theme the graph.

```{r}
p3 <- ggplot(faithfuld, aes(waiting, eruptions)) +
  geom_raster(aes(fill = density), interpolate = TRUE) +
  theme_usq()
  
p3
```

### Example 4: Histograms

#### Using `hist_usq()`

```{r}
hist_usq(diamonds$carat)
```

#### Using _ggplot2_ and `theme_usq()`

```{r}
p4 <- ggplot(diamonds, aes(carat)) +
  geom_histogram(fill = usq_palette[1]) +
  theme_usq()

p4
```

### Example 5: Boxplots

###3 Using `boxplot_usq()`

Plot the highway miles per gallon (mpg) of 38 popular car models in the US by
class of car.

#### Using `boxplot_usq()`

```{r}
boxplot_usq(mpg$hwy ~ mpg$class)
```

#### Using _ggplot2_ and `theme_usq()`

```{r}
p5 <- ggplot(mpg, aes(class, hwy)) +
  geom_boxplot(fill = usq_palette[1],
               colour = usq_palette[1],
               alpha = 0.5) +
  theme_usq()
  
p5
```

Use the USQ colours to fill the box-plots while using `drv` (_e.g._, 4-wheel drive, front-wheel drive or rear-wheel drive) for the box-plot colour.

```{r}
p5.1 <- ggplot(mpg, aes(class, hwy)) +
  geom_boxplot(aes(fill = drv), colour = usq_palette[1]) +
  scale_fill_manual(values = usq_palette) +
  theme_usq()
  
p5.1
```

### Example 6: Timeseries

#### Using `ggplot2` and `theme_usq()` to plot timeseries lines using discrete
colours for each variable of interest. While possible to do with base R
graphics, _ggplot2_ simplifies the process greatly, so it is the only example
provided and suggested for use.

```{r, example_6}
p6 <- ggplot(economics_long, aes(date, value01, colour = variable)) +
  geom_line() +
  scale_colour_manual(values = usq_palette) +
  theme_usq()
  
p6
```

### Example 7: Barplots

#### Using `barplot_usq()` 

Plot the areas in thousands of square miles of landmasses which exceed 10,000
sqm.

```{r example_7.1}
barplot_usq(islands, col = 5)
```

#### Using _ggplot2_ and `theme_usq()`

Plot the areas in thousands of square miles of landmasses which exceed 10,000
sqm.

```{r example_7.2}
library(tibble)
islands_df <- as.data.frame(islands)
islands_df <- rownames_to_column(islands_df, "name")

ggplot(islands_df, aes(x = name, y = islands)) +
  geom_bar(stat = "identity", 
           colour = usq_palette[5],
           fill = usq_palette[5]) +
  theme_usq() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

## Meta

* Please report any [issues or bugs](https://github.com/adamhsparks/theme.usq/issues).

* License: MIT

* Please note that this project is released with a [Contributor Code of Conduct](CONDUCT.md). By participating in this project you agree to abide by its terms.
